"use strict";(()=>{(()=>{const d=()=>{try{const t=localStorage.getItem("theme");if(t)return t}catch{}return window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"};let r="";const o=(t,n=!1)=>{if(t===r)return;const e=document.documentElement,i=t==="dark";n&&e.classList.add("theme-transition"),e.classList.toggle("dark",i),e.classList.toggle("light",!i),r=t,n&&setTimeout(()=>{e.classList.remove("theme-transition")},300);try{localStorage.setItem("theme",t)}catch{}},c=()=>{o(d())};let a=!1;const l=()=>{a||(document.addEventListener("theme-change",t=>{o(t.detail.theme,!0)}),a=!0)},s=()=>{c(),l()};s(),document.addEventListener("astro:page-load",s),document.addEventListener("astro:after-swap",s)})();})();
