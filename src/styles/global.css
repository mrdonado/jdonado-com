@import "tailwindcss";
@plugin "@tailwindcss/typography";

@view-transition {
	navigation: auto;
	view-transition-name: root;
}

::view-transition-old(root),
::view-transition-new(root) {
	animation-duration: 0.5s;
}

@custom-variant dark (&:where(.dark, .dark *));

@theme {
	--color-white: #f8f9fa;
	--font-body: Manrope, ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
	--grid-template-columns-list: repeat(auto-fill, minmax(400px, max-content));
}

/* Typography overrides */
.prose blockquote {
	quotes: none;
}

@layer base {

	html {
		font-family: 'Raleway', sans-serif;
	}

	.prose code {
		@apply text-base;
	}

	/* prose styles here */
	.prose h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply !text-zinc-800;
	}

	html.dark .prose h1,
	html.dark h2,
	html.dark h3,
	html.dark h4,
	html.dark h5,
	html.dark h6 {
		@apply !text-zinc-100;
	}

	html.dark .shiki,
	html.dark .shiki span {
		color: var(--shiki-dark) !important;
		background-color: var(--color-gray-900) !important;
	}
}


.glass {
	background: rgba(57, 56, 56, 0.55);
	/* Safari (and all iOS browsers) will stay on this non-blurred fallback */
	backdrop-filter: none;
	-webkit-backdrop-filter: none;
	isolation: isolate;
}

/* Enable blur/tint on non-Safari browsers */
@supports not (-webkit-touch-callout: none) {
	.glass {
		background: rgba(57, 56, 56, 0.48);
		backdrop-filter: blur(0px) saturate(100%);
		-webkit-backdrop-filter: blur(0px) saturate(100%);
		animation: delayed-blur 0.8s ease-out 0.2s forwards;
	}
}

@keyframes delayed-blur {
	to {
		backdrop-filter: blur(13px) saturate(150%);
		-webkit-backdrop-filter: blur(13px) saturate(150%);
	}
}

/* Safari fix for overflow-hidden containers with transforming children */
.safari-overflow-fix {
	-webkit-mask-image: -webkit-radial-gradient(white, black);
	mask-image: radial-gradient(white, black);
}

.shadow {
	box-shadow: -5px 3px 8px 1px rgba(0, 0, 0, 0.12);
}

a.link {
	text-decoration: underline;
}

@keyframes fade-and-grow {
	0% {
		transform: scale(0.985) translate3d(0, 0, 0);
		opacity: 0.6;
	}

	100% {
		transform: scale(1) translate3d(0, 0, 0);
		opacity: 1;
	}
}

.appear-smoothly {
	animation: fade-and-grow 0.6s ease;
	will-change: transform, opacity;
}

@keyframes fadein {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}

.fadein {
	animation: fadein 0.6s ease;
}

a,
.manipulation {
	touch-action: manipulation;
}

button,
a {
	pointer-events: auto;
}